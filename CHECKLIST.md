# ‚úÖ Deployment Checklist

–ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç–æ—Ç checklist –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º –Ω–∞ production.

## üìã –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

- [ ] –°–µ—Ä–≤–µ—Ä —Å Ubuntu 20.04+ –∏–ª–∏ Debian 11+
- [ ] Root –¥–æ—Å—Ç—É–ø –∏–ª–∏ sudo –ø—Ä–∞–≤–∞
- [ ] –ú–∏–Ω–∏–º—É–º 2GB RAM
- [ ] –ú–∏–Ω–∏–º—É–º 10GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ
- [ ] –î–æ–º–µ–Ω –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –∏ DNS –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

## üîß DNS Records (–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)

- [ ] `syntrix.cc` ‚Üí A –∑–∞–ø–∏—Å—å –Ω–∞ IP —Å–µ—Ä–≤–µ—Ä–∞
- [ ] `www.syntrix.cc` ‚Üí A –∑–∞–ø–∏—Å—å –Ω–∞ IP —Å–µ—Ä–≤–µ—Ä–∞  
- [ ] `api.syntrix.cc` ‚Üí A –∑–∞–ø–∏—Å—å –Ω–∞ IP —Å–µ—Ä–≤–µ—Ä–∞
- [ ] `admin.syntrix.cc` ‚Üí A –∑–∞–ø–∏—Å—å –Ω–∞ IP —Å–µ—Ä–≤–µ—Ä–∞
- [ ] `app.syntrix.cc` ‚Üí A –∑–∞–ø–∏—Å—å –Ω–∞ IP —Å–µ—Ä–≤–µ—Ä–∞

**–ü—Ä–æ–≤–µ—Ä–∫–∞ DNS:**
```bash
nslookup syntrix.cc
nslookup api.syntrix.cc
nslookup admin.syntrix.cc
nslookup app.syntrix.cc
```

## üîë –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –∏ –∫–ª—é—á–µ–π

- [ ] Telegram Bot Token –æ—Ç [@BotFather](https://t.me/BotFather)
- [ ] Telegram User ID (–ø–æ–ª—É—á–∏ –æ—Ç [@userinfobot](https://t.me/userinfobot))
- [ ] OxaPay API Key (https://oxapay.com/)
- [ ] OxaPay Payout API Key (https://oxapay.com/)
- [ ] Telegram Channel ID (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å –∫–∞–Ω–∞–ª)

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

- [ ] –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
  ```bash
  git clone https://github.com/Hell32914/cryp_land.git
  cd cryp_land
  ```

- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω .env.example
  ```bash
  cp .env.example telegram-bot/.env
  ```

- [ ] –ó–∞–ø–æ–ª–Ω–µ–Ω —Ñ–∞–π–ª telegram-bot/.env
  - [ ] `BOT_TOKEN` –∑–∞–ø–æ–ª–Ω–µ–Ω
  - [ ] `ADMIN_IDS` –∑–∞–ø–æ–ª–Ω–µ–Ω (—Ç–≤–æ–π Telegram ID)
  - [ ] `WEBHOOK_URL` = https://api.syntrix.cc
  - [ ] `WEBAPP_URL` = https://app.syntrix.cc
  - [ ] `LANDING_URL` = https://syntrix.cc
  - [ ] `OXAPAY_API_KEY` –∑–∞–ø–æ–ª–Ω–µ–Ω
  - [ ] `OXAPAY_PAYOUT_API_KEY` –∑–∞–ø–æ–ª–Ω–µ–Ω
  - [ ] `CRM_ADMIN_PASSWORD` –∏–∑–º–µ–Ω—ë–Ω (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π!)
  - [ ] `CRM_JWT_SECRET` –∏–∑–º–µ–Ω—ë–Ω –Ω–∞ —Å–ª—É—á–∞–π–Ω—É—é —Å—Ç—Ä–æ–∫—É
  - [ ] `CHANNEL_ID` –∑–∞–ø–æ–ª–Ω–µ–Ω (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å)

## üöÄ –î–µ–ø–ª–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

- [ ] –ó–∞–ø—É—â–µ–Ω —Å–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è
  ```bash
  chmod +x deploy.sh
  ./deploy.sh
  ```

- [ ] –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω—ã
  - [ ] Bot API —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 3001
  - [ ] CRM —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 3002
  - [ ] Landing —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 3003
  - [ ] Telegram App —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 3004

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
curl http://localhost:3001/api/health
curl http://localhost:3002
curl http://localhost:3003
curl http://localhost:3004
```

## üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx

- [ ] Nginx —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
  ```bash
  sudo apt install -y nginx
  ```

- [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞
  ```bash
  sudo cp nginx.conf /etc/nginx/sites-available/syntrix
  sudo ln -s /etc/nginx/sites-available/syntrix /etc/nginx/sites-enabled/
  sudo rm -f /etc/nginx/sites-enabled/default
  ```

- [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
  ```bash
  sudo nginx -t
  ```

- [ ] Nginx –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–µ–Ω
  ```bash
  sudo systemctl reload nginx
  ```

## üîí SSL –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

- [ ] Certbot —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
  ```bash
  sudo apt install -y certbot python3-certbot-nginx
  ```

- [ ] –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –ø–æ–ª—É—á–µ–Ω—ã –¥–ª—è –≤—Å–µ—Ö –¥–æ–º–µ–Ω–æ–≤
  ```bash
  sudo certbot --nginx -d syntrix.cc -d www.syntrix.cc
  sudo certbot --nginx -d api.syntrix.cc
  sudo certbot --nginx -d admin.syntrix.cc
  sudo certbot --nginx -d app.syntrix.cc
  ```

- [ ] –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
  ```bash
  sudo certbot renew --dry-run
  ```

## üî• Firewall

- [ ] UFW –Ω–∞—Å—Ç—Ä–æ–µ–Ω
  ```bash
  sudo ufw allow 22/tcp
  sudo ufw allow 80/tcp
  sudo ufw allow 443/tcp
  sudo ufw enable
  ```

## üîÑ –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ (–≤—ã–±–µ—Ä–∏ –æ–¥–∏–Ω –≤–∞—Ä–∏–∞–Ω—Ç)

### –í–∞—Ä–∏–∞–Ω—Ç A: PM2 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

- [ ] PM2 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≥–ª–æ–±–∞–ª—å–Ω–æ
  ```bash
  npm install -g pm2
  ```

- [ ] –°–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã —á–µ—Ä–µ–∑ PM2
  ```bash
  chmod +x start-pm2.sh
  ./start-pm2.sh
  ```

- [ ] –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
  ```bash
  pm2 startup
  pm2 save
  ```

- [ ] PM2 —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
  ```bash
  sudo reboot
  # –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏:
  pm2 list
  ```

### –í–∞—Ä–∏–∞–Ω—Ç B: Systemd

- [ ] Service —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω
  ```bash
  sudo cp syntrix.service /etc/systemd/system/
  sudo systemctl daemon-reload
  ```

- [ ] –°–µ—Ä–≤–∏—Å –≤–∫–ª—é—á–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω
  ```bash
  sudo systemctl enable syntrix
  sudo systemctl start syntrix
  ```

- [ ] –°–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
  ```bash
  sudo reboot
  # –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏:
  sudo systemctl status syntrix
  ```

## üì± –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Bot

- [ ] Webhook —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
  ```bash
  curl -X POST "https://api.telegram.org/bot<YOUR_TOKEN>/setWebhook" \
    -d "url=https://api.syntrix.cc/webhook/<YOUR_TOKEN>"
  ```

- [ ] Webhook —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–µ–Ω
  ```bash
  curl "https://api.telegram.org/bot<YOUR_TOKEN>/getWebhookInfo"
  ```

- [ ] –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—É /start –≤ Telegram

## üåê –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–º–µ–Ω–æ–≤

- [ ] https://syntrix.cc –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ª–µ–Ω–¥–∏–Ω–≥
- [ ] https://admin.syntrix.cc –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª–æ–≥–∏–Ω CRM
- [ ] https://api.syntrix.cc/api/health –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç OK
- [ ] https://app.syntrix.cc –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è (telegram mini app)

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### Telegram Bot
- [ ] –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ /start
- [ ] –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ö–æ–º–∞–Ω–¥–∞ /admin —Ä–∞–±–æ—Ç–∞–µ—Ç (–¥–ª—è –∞–¥–º–∏–Ω–∞)
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç

### CRM
- [ ] –õ–æ–≥–∏–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç (admin / —Ç–≤–æ–π_–ø–∞—Ä–æ–ª—å)
- [ ] –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç

### Landing
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- [ ] –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –°—Å—ã–ª–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] FAQ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è

### –ü–ª–∞—Ç–µ–∂–∏ (—Ç–µ—Å—Ç–æ–≤–æ)
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –¥–µ–ø–æ–∑–∏—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] OxaPay callback –ø—Ä–∏—Ö–æ–¥–∏—Ç
- [ ] –í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- [ ] –õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –∏ —á–∏—Ç–∞–µ–º—ã
  ```bash
  # PM2
  pm2 logs
  
  # Systemd
  sudo journalctl -u syntrix -f
  ```

- [ ] –ú–µ—Ç—Ä–∏–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã
  ```bash
  # PM2
  pm2 monit
  
  # –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
  htop
  ```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- [ ] –ü–∞—Ä–æ–ª—å CRM –∏–∑–º–µ–Ω—ë–Ω —Å –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ
- [ ] JWT —Å–µ–∫—Ä–µ—Ç –∏–∑–º–µ–Ω—ë–Ω –Ω–∞ —Å–ª—É—á–∞–π–Ω—ã–π
- [ ] Firewall –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≤–∫–ª—é—á–µ–Ω
- [ ] SSH –¥–æ—Å—Ç—É–ø –∑–∞—â–∏—â—ë–Ω (–ø–æ –∫–ª—é—á—É, –Ω–µ –ø–æ –ø–∞—Ä–æ–ª—é)
- [ ] –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –±–µ–∫–∞–ø—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

## üíæ Backup

- [ ] –°–∫—Ä–∏–ø—Ç –±–µ–∫–∞–ø–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω
  ```bash
  #!/bin/bash
  DATE=$(date +%Y%m%d_%H%M%S)
  cp /root/cryp_land/telegram-bot/dev.db /root/backups/db_$DATE.db
  # –û—Å—Ç–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π
  find /root/backups -name "db_*.db" -mtime +7 -delete
  ```

- [ ] Cron –∑–∞–¥–∞—á–∞ –¥–ª—è –±–µ–∫–∞–ø–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
  ```bash
  crontab -e
  # –î–æ–±–∞–≤–∏—Ç—å:
  0 2 * * * /root/backup.sh
  ```

## üìà Production Ready

- [ ] –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –õ–æ–≥–∏ –º–æ–Ω–∏—Ç–æ—Ä—è—Ç—Å—è
- [ ] –ë–µ–∫–∞–ø—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] Telegram webhook —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ü–ª–∞—Ç–µ–∂–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
- [ ] CRM –¥–æ—Å—Ç—É–ø–Ω–∞ –∞–¥–º–∏–Ω–∞–º

## üéâ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ü—Ä–æ–π–¥–∏—Å—å –ø–æ –≤—Å–µ–º—É —Ñ–ª–æ—É –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:

1. [ ] –û—Ç–∫—Ä—ã–ª –±–æ—Ç–∞ –≤ Telegram
2. [ ] –ü—Ä–æ—à—ë–ª —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
3. [ ] –°–æ–∑–¥–∞–ª —Ç–µ—Å—Ç–æ–≤—ã–π –¥–µ–ø–æ–∑–∏—Ç
4. [ ] –ó–∞—à—ë–ª –≤ CRM –∫–∞–∫ –∞–¥–º–∏–Ω
5. [ ] –ü–æ—Å–º–æ—Ç—Ä–µ–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
6. [ ] –û–±—Ä–∞–±–æ—Ç–∞–ª –∑–∞—è–≤–∫—É –Ω–∞ –≤—ã–≤–æ–¥
7. [ ] –ü–æ–ª—É—á–∏–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∫–∞—Ä—Ç–æ—á–∫–µ
8. [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª –ª–µ–Ω–¥–∏–Ω–≥
9. [ ] –û—Ç–∫—Ä—ã–ª webapp —á–µ—Ä–µ–∑ –±–æ—Ç–∞

–ï—Å–ª–∏ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç - **–ø–æ–∑–¥—Ä–∞–≤–ª—è—é, —Ç—ã –≤ production! üéâ**

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:
1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏
2. –ü—Ä–æ–≤–µ—Ä—å .env —Ñ–∞–π–ª
3. –ü—Ä–æ–≤–µ—Ä—å DNS –∑–∞–ø–∏—Å–∏
4. –ü—Ä–æ–≤–µ—Ä—å firewall
5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å—ã

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- `QUICKSTART.md` - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- `DEPLOYMENT.md` - –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `COMMANDS.md` - –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
